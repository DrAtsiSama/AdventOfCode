# Advent of Code 2024 - Day 14: Restroom Redoubt

## Problem Description

### Part 1: Safety Factor Calculation

Given the robots' positions (`p=x,y`) and velocities (`v=x,y`) on a 101x103 grid, the task is to predict their positions after 100 seconds. Robots move in straight lines, wrapping around the edges of the grid when they reach its boundaries.

- **Objective**: Divide the grid into quadrants and calculate the product of the number of robots in each quadrant after 100 seconds.
- Robots exactly on the median axes are not counted in any quadrant.

### Part 2: Easter Egg Discovery

- After 100 seconds, simulate the robots' movements further.
- Detect the earliest time when robots form a compact structure resembling a **Christmas tree**.
- Visualize this structure.

---

## Results

### Part 1: Safety Factor
After 100 seconds:
- **Quadrants count**:
  - Quadrant 1: \( q1 \)
  - Quadrant 2: \( q2 \)
  - Quadrant 3: \( q3 \)
  - Quadrant 4: \( q4 \)
- **Safety Factor**: \( q1 \times q2 \times q3 \times q4 = 241640784 \)

---

### Part 2: Easter Egg Formation

- **Earliest Time**: **6577 seconds**
- **Visualized Grid**:

```
.............#.....................#...................#..............#..........................#... ................................................#....#.........#........#............................ .............................#....................................................................... .............................#.........#...............................#............................. .....#...............#........................#...............#...................................... ...............#..................................................................................... .......#........................#.................................................................... ..................................................................................................... ..................................................................................................... .....................................................................................#............... .#.......................#....#...................................................................... ..................................................................................................... .....#.......................#........#.............................................................. .............................#........#.................................#............................ .........#........................................................................................... .............#....................................................................................... ..................................................................................................... ..................................................................................................... ...............................#................................#.................................... ........................................................#......................#...............#..... ......................................................................................#.#............ ...............................................................#..................................... ...............................................#.............................#....................... ..............................................................................................#...... ............#........................................................................................ .............................................................................#....................... ..................................................................#.................................. ...........#......................#.................................................................. ..................................................................................................... ................................................................................................#.... ....#................................................................................................ ....................................................#............................#................... ....................................................#....................................#........... .........................#.....#.......................#................#............................ .........................................................................#........................... ..................#.........#...............#........................................................ ...............................................................#........#.................#.......... ................#.............................................................#...................... .................#......................#..................#......................................... ..............................#...................................................................... ...................................................#................................................. ..................................................................................................#.. ..................................................................................................... .....................................................#............................................... ...............................................................#..................................... ................................................#......#............................................. ..........................................................#............#...................#......... ....................................................................#................................ ..#..................#...........................................................#................... #.................................................................................................... .....................................................................#.......................#....... ...................................................................#..#.............................. .........................................................................................#........... ................#..........###############################..................................#........ ...........................#.............................#...#....................................... ...........................#.............................#........................................... ...........................#.............................#........................................... ...........................#.............................#...............................#........... .................#.........#..............#..............#........................................... ...........................#.............###.............#........................................... ...........................#............#####............#........................................... ...........................#...........#######...........#.........................................#. .................#.........#..........#########..........#........................................... ...........................#............#####............#........................................... ........................#..#...........#######...........#...............#........................... ...........................#..........#########..........#..........#................................ ...........................#.........###########.........#........................................... ......#....................#........#############........#.........#...............................#. ...........................#..........#########..........#........................................... ...........................#.........###########.........#........................................... ................#..........#........#############........#........................................... ...........................#.......###############.......#....#....................#.......#......... ...........................#......#################......#........................................... ...........................#........#############........#.........................................#. ...........................#.......###############.......#.....................#..................... ......................#....#......#################......#...................................#....... ....#......................#.....###################.....#........................................... ...........................#....#####################....#........................................... ........#..................#.............###.............#......................#.................... ...........................#.............###.............#........................................... ......#....................#.............###.............#........................................... ...........................#.............................#.........................#................. ...#.......................#.............................#.............#............................. ..#........................#.............................#..........#................................ .........#.................#.............................#........................................... ...........................###############################...................#.........#............. .....................#........................................#...................................... ..................................................................................................... ....................................................................#.....................#.........# .##.................................................................................................. ..................................................................................................... ...........................................................#.....................................#... ....................#...............#......#............#............................................ .........................................................................................#........... .................#................................#......................................#........... ..................................................................................................... ................................................................................................#.... .....................................................................................#............... .............................#....................................................................... ..................................................................................................... ...#...........#.............................................#.......................................

```

---

## Optimization Notes

- **Efficient Simulation**: Used modular arithmetic to handle grid wrapping.
- **Compactness Detection**: BFS is used to count connected components efficiently.
- **Early Stopping**: Stopped simulation when compactness criterion was met.

---

## Conclusion

- **Safety Factor**: \( 241640784 \)
- **Easter Egg Formation**: Detected at \( 6577 \) seconds with the above grid visualization.
